@using TaskLauncher.App.Client.Pages;
@using TaskLauncher.App.Client.Models

@page "/tasks/add"
@attribute [Authorize(Policy = "user-policy")]
@inherits BasePage

<PageTitle>Add new task</PageTitle>

<div class="container my-4">
    <div class="row">
        <div class="col-lg-6 offset-lg-3">
            <RadzenTemplateForm TItem="TaskModel" Data=@Model Submit=@Create>
                <RadzenFieldset>

                    <div class="row justify-content-center">
                        <div class="col-md-12 d-flex align-items-end justify-content-center" style="margin-top: 15px;">
                            <RadzenLabel Text="Add new task" style="font-size:30px; margin-bottom:15px" />
                        </div>
                    </div>

                    <div class="row mb-5">
                        <div class="col-md-4">
                            <RadzenLabel Text="Name" />
                            <small style="display: inline-block; color: red">*</small>
                        </div>
                        <div class="col">
                            <RadzenTextBox style="display: inline-block" Name="Name" @bind-Value=@Model.Name Class="w-100" />
                            <RadzenRequiredValidator Component="Name" />
                        </div>
                    </div>

                    <div class="row mb-5">
                        <div class="col-md-4">
                            <RadzenLabel Text="Description" />
                        </div>
                        <div class="col">
                            <RadzenTextBox style="display: inline-block" Name="Description" @bind-Value=@Model.Description Class="w-100" />
                        </div>
                    </div>

                    <div class="row mb-5">
                        <div class="col-md-4">
                            <RadzenLabel Text="File" />
                            <small style="display: inline-block; color: red">*</small>
                        </div>
                        <div class="col">
                            <InputFile OnChange="@HandleSelected" />
                        </div>
                    </div>

                    <div class="row justify-content-center">
                        <div class="col-md-12 d-flex align-items-end justify-content-center" style="margin-top: 15px;">
                            <RadzenButton ButtonType="Radzen.ButtonType.Submit" Style="background-color: blue" Text="Submit"></RadzenButton>
                        </div>
                    </div>
                </RadzenFieldset>
            </RadzenTemplateForm>
        </div>
    </div>
</div>
